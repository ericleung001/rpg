<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GM ç®¡ç†å¾Œå°2</title>
    <style>
        body { background: #222; color: #fff; font-family: monospace; padding: 20px; text-align: center; }
        input, select, button { padding: 10px; margin: 5px; width: 100%; max-width: 300px; box-sizing: border-box; }
        button { background: #e74c3c; color: white; border: none; cursor: pointer; font-weight: bold; }
        button:active { background: #c0392b; transform: translateY(2px); }
        .log { margin-top: 20px; color: #f1c40f; white-space: pre-wrap; border: 1px solid #555; padding: 10px; min-height: 100px; text-align: left; background: #000; }
        hr { border: 0; border-top: 1px solid #444; margin: 20px 0; }
        h3 { margin-top: 0; }
        
        optgroup { color: #f1c40f; background: #333; font-weight: bold; }
        option { color: #fff; background: #222; }

        /* æŒ‰éˆ•é¡è‰² */
        .btn-open { background: #27ae60; }
        .btn-close { background: #c0392b; }
        .btn-reset { background: #f39c12; }
        .btn-boss { background: #8e44ad; box-shadow: 0 0 10px #8e44ad; }

        /* ğŸš¨ å¯ç–‘åå–®åˆ—è¡¨æ¨£å¼ */
        #suspicious-table { width: 100%; max-width: 800px; margin: 0 auto; border-collapse: collapse; background: #111; }
        #suspicious-table th, #suspicious-table td { border: 1px solid #444; padding: 8px; text-align: left; font-size: 12px; }
        #suspicious-table th { background: #c0392b; color: white; }
        #suspicious-table tr:nth-child(even) { background: #1a1a1a; }
        #suspicious-table tr:hover { background: #333; }
        .sus-reason { color: #f39c12; }
    </style>
</head>
<body>

    <h1>ğŸ”§ GM ç®¡ç†å¾Œå°</h1>

    <input type="password" id="admin-pass" placeholder="è¼¸å…¥ç®¡ç†å“¡å¯†ç¢¼">
    <input type="text" id="target-name" placeholder="ç›®æ¨™ç©å®¶åç¨± (Username)">
    
    <hr>

    <h3 style="color: #ff4757; text-shadow: 0 0 5px red;">ğŸš¨ å¯ç–‘å¸³è™Ÿç›£æ§ (Bot åµæ¸¬)</h3>
    <div style="display:flex; justify-content:center; gap:10px; margin-bottom: 10px;">
        <button onclick="fetchSuspiciousLogs()" style="background:#2f3542;">ğŸ”„ åˆ·æ–°åˆ—è¡¨</button>
        <button onclick="downloadLogs()" style="background:#2ed573; color:#000;">ğŸ’¾ ä¸‹è¼‰ Log (Save)</button>
    </div>
    
    <table id="suspicious-table">
        <thead>
            <tr>
                <th style="width: 180px;">æ™‚é–“</th>
                <th style="width: 150px;">ç©å®¶åç¨±</th>
                <th>å¯ç–‘åŸå› </th>
            </tr>
        </thead>
        <tbody id="suspicious-list">
            <tr><td colspan="3" style="text-align:center; color:#aaa;">æš«ç„¡è³‡æ–™ï¼Œè«‹é»æ“Šåˆ·æ–°</td></tr>
        </tbody>
    </table>

    <hr>

    <h3 style="color: #e74c3c;">ğŸš§ ç³»çµ±ç¶­è­·</h3>
    <div style="display:flex; justify-content:center; gap:10px;">
        <button onclick="setMaintenance(true)" style="background:#c0392b;">ğŸ”´ é–‹å•Ÿç¶­è­· (è¸¢äºº)</button>
        <button onclick="setMaintenance(false)" style="background:#27ae60;">ğŸŸ¢ é—œé–‰ç¶­è­· (é–‹æ”¾)</button>
    </div>

    <hr>

    <h3 style="color: #c0392b; text-shadow: 0 0 5px red;">ğŸŒ ä¸–ç•Œ BOSS</h3>
    <div style="display:flex; flex-direction: column; align-items: center;">
        <button class="btn-boss" onclick="spawnBoss()">â˜ ï¸ å¬å–šè™›ç©ºæ»…ä¸–è€… (é–‹å•Ÿæ´»å‹•)</button>
        <div style="font-size:10px; color:#aaa; margin-top:5px;">(è­¦å‘Šï¼šé€™æœƒå‘å…¨æœç™¼é€å»£æ’­)</div>
    </div>

    <hr>

    <h3 style="color: #f1c40f;">ğŸ§§ ç¦è¢‹æ´»å‹•ç®¡ç†</h3>
    <div style="display:flex; flex-direction: column; align-items: center;">
        <button class="btn-open" onclick="controlLuckyBag('open')">ğŸŸ¢ é–‹å•Ÿæ´»å‹• (å…è¨±è³¼è²·)</button>
        <button class="btn-close" onclick="controlLuckyBag('close')">ğŸ”´ é—œé–‰æ´»å‹• (ç¦æ­¢è³¼è²·)</button>
        <button class="btn-reset" onclick="controlLuckyBag('reset')">ğŸ”„ é‡ç½®åº«å­˜ (è£œæ»¿ 20 å€‹)</button>
    </div>

    <hr>

    <h3 style="color: #9b59b6;">ğŸ” å¸³è™Ÿç®¡ç†</h3>
    <div style="display:flex; flex-direction: column; align-items: center;">
        <input type="text" id="new-pass" placeholder="è¼¸å…¥æ–°å¯†ç¢¼">
        <button onclick="resetPassword()" style="background:#8e44ad;">é‡ç½®è©²ç©å®¶å¯†ç¢¼</button>
    </div>

    <hr>

    <h3 style="color: #2ecc71;">ğŸ“Š æˆ°é¬¥ç­‰ç´šç®¡ç†</h3>
    <div style="display:flex; flex-direction: column; align-items: center;">
        <input type="number" id="level-amount" placeholder="è¨­å®šç­‰ç´š (ä¾‹å¦‚: 50)">
        <button onclick="setLevel()" style="background:#27ae60;">è¨­å®šæˆ°é¬¥ç­‰ç´š (é‡ç®—èƒ½åŠ›)</button>
    </div>

    <hr>
    <h3 style="color: #16a085;">ğŸŒ² æ¡é›†ç­‰ç´šç®¡ç†</h3>
    <div style="display:flex; flex-direction: column; align-items: center;">
        <input type="number" id="gather-level-amount" placeholder="è¨­å®šæ¡é›†ç­‰ç´š (ä¾‹å¦‚: 20)">
        <button onclick="setGatherLevel()" style="background:#16a085;">è¨­å®šæ¡é›†ç­‰ç´š</button>
    </div>

    <hr>

    <h3 style="color: #f1c40f;">ğŸ’° é‡‘éŒ¢ç®¡ç†</h3>
    <div style="display:flex; flex-direction: column; align-items: center;">
        <select id="gold-mode">
            <option value="add">â• å¢åŠ  (è¼¸å…¥è² æ•¸å‰‡æ‰£é™¤)</option>
            <option value="set">ğŸ›‘ ç›´æ¥è¨­å®š (è¦†è“‹ç¸½é¡)</option>
        </select>
        <input type="number" id="gold-amount" placeholder="é‡‘é¡">
        <button onclick="modifyGold()" style="background:#f39c12;">åŸ·è¡Œé‡‘é¡è®Šæ›´</button>
    </div>

    <hr>

    <h3 style="color: #3498db;">ğŸ ç™¼é€ç‰©å“</h3>
    <input type="text" id="item-id" placeholder="ç‰©å“ ID (å¯ç›´æ¥è¼¸å…¥æˆ–é¸ä¸‹æ–¹åˆ—è¡¨)">
    
    <select id="common-items" onchange="document.getElementById('item-id').value = this.value">
        <option value="">-- å¿«é€Ÿé¸æ“‡ç‰©å“ --</option>

        <optgroup label="=== ğŸ”¨ å¼·åŒ–é“å…· ===">
            <option value="enhance_stone">âœ¨ å¼·åŒ–çŸ³</option>
        </optgroup>

        <optgroup label="=== ğŸŸ¢ Lv.300 çµ‚ç„‰ç¥è£ (ç•¢æ¥­) ===">
            <option value="entropy_sword">çµ‚ç„‰Â·ç†±å¯‚ä¹‹åŠ (æ­¦)</option>
            <option value="entropy_god_armor">çµ‚ç„‰Â·ç¥ä¹‹åº‡è­· (ç”²)</option>
            <option value="entropy_origin">ç†±å¯‚åŸé» (ææ–™)</option>
        </optgroup>

        <optgroup label="=== ğŸ”µ Lv.260 æ˜Ÿéš›å¥—è£ ===">
            <option value="galaxy_saber">éŠ€æ²³å…‰åŠ (æ­¦)</option>
            <option value="nebula_plate">æ˜Ÿé›²æ¿ç”² (ç”²)</option>
            <option value="cosmic_steel">å®‡å®™é‹¼ (ææ–™)</option>
            <option value="star_core">æ†æ˜Ÿæ ¸å¿ƒ (ææ–™)</option>
        </optgroup>

        <optgroup label="=== ğŸŸ£ Lv.230 è™›ç©ºå¥—è£ ===">
            <option value="void_blade">è™›ç©ºä¹‹åˆƒ (æ­¦)</option>
            <option value="void_armor">è™›ç©ºæˆ°ç”² (ç”²)</option>
            <option value="void_shard">è™›ç©ºç¢ç‰‡ (ææ–™)</option>
            <option value="dark_matter">æš—ç‰©è³ª (ææ–™)</option>
        </optgroup>

        <optgroup label="=== ğŸŸ¡ Lv.280 ç¶­åº¦é£¾å“ ===">
            <option value="dimension_ring">ç¶­åº¦æŒ‡ç’° (é£¾)</option>
            <option value="time_sand">æ™‚å…‰ä¹‹æ²™ (ææ–™)</option>
            <option value="dimension_gem">ç¶­åº¦å¯¶çŸ³ (ææ–™)</option>
        </optgroup>

        <optgroup label="=== âœ¨ Lv.200 å‰µä¸–ç¥è£ ===">
            <option value="elixir">ç¥ä¹‹ç”˜éœ² (å…¨è£œ)</option>
            <option value="titan_steel">æ³°å¦ç¥é‹¼</option>
            <option value="star_fragment">æ˜Ÿä¹‹ç¢ç‰‡</option>
            <option value="god_blood">ç¥ä¹‹è¡€</option>
            <option value="genesis_weapon">å‰µä¸–Â·çµ‚ç„‰ä¹‹åŠ (æ­¦)</option>
            <option value="genesis_armor">å‰µä¸–Â·ç¥ä¹‹åº‡è­· (ç”²)</option>
            <option value="ring_galaxy">éŠ€æ²³æŒ‡ç’° (é£¾)</option>
            <option value="void_reaper_dark">é—‡Â·è™›ç©ºæ”¶å‰²è€… (æ­¦)</option>
        </optgroup>
        
        <optgroup label="=== æ¶ˆè€—å“ ===">
            <option value="lucky_bag">ğŸ§§ å¥‡è¹Ÿç¦è¢‹</option>
            <option value="potion_hp">å°ç´…è—¥æ°´ (HP+50)</option>
            <option value="potion_mid">ä¸­ç´…è—¥æ°´ (HP+500)</option>
            <option value="potion_high">å¤§ç´…è—¥æ°´ (HP+2000)</option>
            <option value="potion_max">ç‰¹ç´šç§˜è—¥ (HP+10000)</option>
            <option value="elixir">ç¥ä¹‹ç”˜éœ² (HP+50000)</option>
            <option value="potion_mp">å°è—è—¥æ°´ (MP+30)</option>
            <option value="potion_mp_mid">ä¸­è—è—¥æ°´ (MP+100)</option>
            <option value="potion_mp_high">å¤§è—è—¥æ°´ (MP+500)</option>
            <option value="grilled_carp">çƒ¤é¯‰é­š (HP+100)</option>
            <option value="salmon_sushi">é®­é­šå£½å¸ (MP+50)</option>
            <option value="tuna_steak">ç…é®ªé­šæ’ (HP+500)</option>
            <option value="eel_rice">é°»é­šé£¯ (HP+300, MP+100)</option>
            <option value="void_soup">è™›ç©ºæµ·é®®æ¹¯ (å…¨æ»¿)</option>
            <option value="sushi_plate">å£½å¸æ‹¼ç›¤ (HP+500)</option>
        </optgroup>

        <optgroup label="=== ææ–™ ===">
            <option value="copper_ore">éŠ…ç¤¦çŸ³</option>
            <option value="soft_fur">æŸ”è»Ÿçš®æ¯›</option>
            <option value="beast_fang">é‡ç¸å°–ç‰™</option>
            <option value="slime_gel">é»æ¶²</option>
            <option value="iron_ore">éµç¤¦çŸ³</option>
            <option value="leather">çš®é©</option>
            <option value="tough_hide">ç¡¬çš®é©</option>
            <option value="magic_dust">é­”ç²‰</option>
            <option value="poison_sac">æ¯’å›Š</option>
            <option value="bone_shard">ç¢éª¨ç‰‡</option>
            <option value="silver_ore">éŠ€ç¤¦çŸ³</option>
            <option value="fire_core">ç«ç„°æ ¸å¿ƒ</option>
            <option value="lava_rock">ç†”å²©çŸ³</option>
            <option value="dragon_scale">é¾é±—</option>
            <option value="gold_ore">é‡‘ç¤¦çŸ³</option>
            <option value="ice_crystal">æ°¸æ†å†°æ™¶</option>
            <option value="yeti_fur">é›ªæ€ªæ¯›çš®</option>
            <option value="spirit_dust">éˆé­‚ç²‰æœ«</option>
            <option value="mithril">ç§˜éŠ€</option>
            <option value="void_dust">è™›ç©ºä¹‹å¡µ</option>
            <option value="demon_horn">æƒ¡é­”ä¹‹è§’</option>
            <option value="dark_essence">æš—ä¹‹ç²¾è¯</option>
            <option value="adamantite">ç²¾é‡‘</option>
            <option value="god_blood">ç¥ä¹‹è¡€</option>
            <option value="chaos_orb">æ··æ²Œå¯¶ç </option>
            <option value="angel_feather">å¤©ä½¿ä¹‹ç¾½</option>
            <option value="oak_log">æ©¡æœ¨åŸæœ¨</option>
            <option value="maple_log">æ¥“æœ¨åŸæœ¨</option>
            <option value="yew_log">ç´«æ‰åŸæœ¨</option>
            <option value="ancient_log">é å¤ç¥æœ¨</option>
            <option value="spirit_wood">éˆæœ¨</option>
            <option value="dragon_wood">é¾éª¨æœ¨</option>
            <option value="void_wood">è™›ç©ºæœ¨</option>
            <option value="chaos_wood">æ··æ²Œç¥æœ¨</option>
            <option value="carp">é¯‰é­š</option>
            <option value="salmon">é®­é­š</option>
            <option value="koi">éŒ¦é¯‰</option>
            <option value="magic_fish">é­”åŠ›é­š</option>
            <option value="tuna">é»‘é®ªé­š</option>
            <option value="shark">å¤§ç™½é¯Š</option>
            <option value="lava_eel">ç†”å²©é°»</option>
            <option value="void_squid">è™›ç©ºçƒè³Š</option>
            <option value="god_carp">ç¥ä¹‹é¯‰</option>
            <option value="pearl">çç </option>
            <option value="coal">ç…¤ç‚­</option>
            <option value="ruby">ç´…å¯¶çŸ³</option>
            <option value="diamond">é‘½çŸ³</option>
            <option value="star_fragment">æ˜Ÿä¹‹ç¢ç‰‡</option>
        </optgroup>

        <optgroup label="=== æ­¦å™¨ ===">
            <option value="wood_sword">æœ¨åŠ</option>
            <option value="copper_dagger">éŠ…åŒ•é¦–</option>
            <option value="oak_bow">æ©¡æœ¨å¼“</option>
            <option value="iron_sword">éµåŠ</option>
            <option value="spike_club">ç‹¼ç‰™æ£’</option>
            <option value="maple_staff">æ¥“æœ¨æ³•æ–</option>
            <option value="poison_dag">åŠ‡æ¯’åŒ•é¦–</option>
            <option value="shark_tooth">é¯Šé­šç‰™åŒ•é¦–</option>
            <option value="silver_blade">éŠ€åˆƒ</option>
            <option value="flame_staff">ç«ç„°æ³•æ–</option>
            <option value="emerald_staff">ç¿¡ç¿ æ³•æ–</option>
            <option value="gold_axe">é»ƒé‡‘å·¨æ–§</option>
            <option value="frost_bow">å¯’å†°å¼“</option>
            <option value="obsidian_blade">é»‘æ›œçŸ³ä¹‹åŠ</option>
            <option value="dragon_spear">é¾éª¨é•·æ§</option>
            <option value="mithril_saber">ç§˜éŠ€è»åˆ€</option>
            <option value="void_reaper">è™›ç©ºæ”¶å‰²è€…</option>
            <option value="god_slayer">å¼’ç¥åŠ</option>
            <option value="chaos_staff">æ··æ²Œæ³•æ–</option>
            <option value="hero_sword">å‹‡è€…ä¹‹åŠ</option>
            <option value="steel_blade">ç²¾é‹¼åŠ</option>
            <option value="assassin_dag">åˆºå®¢çŸ­åˆ€</option>
        </optgroup>

        <optgroup label="=== é˜²å…· ===">
            <option value="cloth_armor">å¸ƒè¡£</option>
            <option value="hunt_vest">çµäººèƒŒå¿ƒ</option>
            <option value="leather_armor">çš®ç”²</option>
            <option value="plate_mail">æ¿é‡‘ç”²</option>
            <option value="dragon_mail">é¾é±—ç”²</option>
            <option value="chain_mail">é–å­ç”²</option>
            <option value="magma_plate">ç†”å²©èƒ¸ç”²</option>
            <option value="ice_robe">å†°éœœæ³•è¢</option>
            <option value="yeti_cloak">é›ªæ€ªæ–—ç¯·</option>
            <option value="demon_armor">æƒ¡é­”æˆ°ç”²</option>
            <option value="angel_armor">ç†¾å¤©ä½¿é§ç”²</option>
        </optgroup>

        <optgroup label="=== é£¾å“ ===">
            <option value="bone_ring">éª¨æˆ’</option>
            <option value="fish_ring">é­šé±—æˆ’æŒ‡</option>
            <option value="snake_boots">è›‡çš®é•·é´</option>
            <option value="ring_str">åŠ›é‡æˆ’æŒ‡</option>
            <option value="ring_life">ç”Ÿå‘½è­·ç¬¦</option>
            <option value="ring_magic">é­”åŠ›è€³ç’°</option>
            <option value="pearl_necklace">çç é …éŠ</option>
            <option value="amulet_soul">éˆé­‚è­·ç¬¦</option>
            <option value="ring_lord">é ˜ä¸»æŒ‡ç’°</option>
            <option value="crown_chaos">æ··æ²Œä¹‹å† </option>
        </optgroup>
    </select>

    <input type="number" id="item-count" placeholder="æ•¸é‡" value="1">
    <button onclick="sendItem()">ğŸš€ ç™¼é€ç‰©å“</button>

    <div class="log" id="log-area">ç­‰å¾…æ“ä½œ...</div>

    <script src="https://cdn.socket.io/4.7.4/socket.io.min.js"></script>
    
    <script>
        const socket = io('https://mmo.ttctv-105.cc', { 
            transports: ['websocket', 'polling'],
            secure: true 
        });

        socket.on('connect', () => {
            log("âœ… é€£ç·šæˆåŠŸï¼Œè«‹è¼¸å…¥å¯†ç¢¼èˆ‡ç©å®¶åç¨±ã€‚");
        });

        // ğŸŸ¢ [æ–°å¢] æ¥æ”¶å¾Œç«¯å‚³ä¾†çš„ Log è³‡æ–™
        let currentLogs = []; // æš«å­˜ logs ç”¨æ–¼ä¸‹è¼‰

        socket.on('adminSuspiciousLogsData', (logs) => {
            currentLogs = logs;
            const tbody = document.getElementById('suspicious-list');
            tbody.innerHTML = '';

            if (logs.length === 0) {
                tbody.innerHTML = '<tr><td colspan="3" style="text-align:center;">ç›®å‰ç„¡å¯ç–‘ç´€éŒ„</td></tr>';
                return;
            }

            logs.forEach(log => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${log.time}</td>
                    <td style="font-weight:bold; color:#fff;">${log.name}</td>
                    <td class="sus-reason">${log.reason}</td>
                `;
                tbody.appendChild(tr);
            });
            log(`å·²æ›´æ–° ${logs.length} ç­†å¯ç–‘ç´€éŒ„`);
        });

        // ğŸŸ¢ [æ–°å¢] è«‹æ±‚ Log
        function fetchSuspiciousLogs() {
            const pass = document.getElementById('admin-pass').value;
            if(!pass) { alert("è«‹è¼¸å…¥ç®¡ç†å“¡å¯†ç¢¼"); return; }
            socket.emit('adminGetSuspiciousLogs', { adminPass: pass });
        }

        // ğŸŸ¢ [æ–°å¢] ä¸‹è¼‰ Log åŠŸèƒ½ (å­˜æˆ .txt)
        function downloadLogs() {
            if (currentLogs.length === 0) {
                alert("æ²’æœ‰è³‡æ–™å¯ä¸‹è¼‰ï¼Œè«‹å…ˆåˆ·æ–°åˆ—è¡¨ï¼");
                return;
            }

            let content = "=== RPG Game Suspicious Activity Log ===\n";
            content += `Export Date: ${new Date().toLocaleString()}\n\n`;
            
            currentLogs.forEach(log => {
                content += `[${log.time}] Player: ${log.name} | Reason: ${log.reason}\n`;
            });

            const blob = new Blob([content], { type: "text/plain;charset=utf-8" });
            const url = URL.createObjectURL(blob);
            const a = document.createElement("a");
            a.href = url;
            a.download = `sus_logs_${Date.now()}.txt`;
            a.click();
            URL.revokeObjectURL(url);
        }

        // --- åŸæœ‰åŠŸèƒ½ ---

        function spawnBoss() {
            const pass = document.getElementById('admin-pass').value;
            if(!pass) { alert("è«‹è¼¸å…¥ç®¡ç†å“¡å¯†ç¢¼"); return; }
            if(!confirm("âš ï¸ ç¢ºå®šè¦å¬å–š [è™›ç©ºæ»…ä¸–è€…] å—ï¼Ÿ\né€™æœƒå‘å…¨æœç™¼é€é€šçŸ¥ï¼")) return;
            log("[è«‹æ±‚] æ­£åœ¨å¬å–šä¸–ç•Œ BOSS...");
            socket.emit('adminSpawnWorldBoss', { password: pass });
        }

        function controlLuckyBag(action) {
            const pass = document.getElementById('admin-pass').value;
            if(!pass) { alert("è«‹è¼¸å…¥ç®¡ç†å“¡å¯†ç¢¼"); return; }
            socket.emit('adminSetLuckyBag', { password: pass, action: action });
        }

        function setMaintenance(mode) {
            const pass = document.getElementById('admin-pass').value;
            if(!pass) { alert("è«‹è¼¸å…¥ç®¡ç†å“¡å¯†ç¢¼"); return; }
            const action = mode ? "é–‹å•Ÿç¶­è­·" : "é—œé–‰ç¶­è­·";
            if(!confirm(`ç¢ºå®šè¦ ${action} å—ï¼Ÿ`)) return;
            log(`[è«‹æ±‚] æ­£åœ¨ ${action}...`);
            socket.emit('adminSetMaintenance', { adminPass: pass, mode: mode });
        }

        function resetPassword() {
            const pass = document.getElementById('admin-pass').value;
            const name = document.getElementById('target-name').value;
            const newPass = document.getElementById('new-pass').value;
            if(!pass || !name || !newPass) { alert("è«‹è¼¸å…¥å®Œæ•´è³‡è¨Š"); return; }
            socket.emit('adminResetPass', { adminPass: pass, targetName: name, newPass: newPass });
        }

        function setLevel() {
            const pass = document.getElementById('admin-pass').value;
            const name = document.getElementById('target-name').value;
            const level = document.getElementById('level-amount').value;
            if(!pass || !name || !level) { alert("è«‹å¡«å¯«æ‰€æœ‰æ¬„ä½"); return; }
            socket.emit('adminSetLevel', { adminPass: pass, targetName: name, level: level });
        }

        function setGatherLevel() {
            const pass = document.getElementById('admin-pass').value;
            const name = document.getElementById('target-name').value;
            const level = document.getElementById('gather-level-amount').value;
            if(!pass || !name || !level) { alert("è«‹å¡«å¯«æ‰€æœ‰æ¬„ä½"); return; }
            socket.emit('adminSetGatherLevel', { adminPass: pass, targetName: name, level: level });
        }

        function modifyGold() {
            const pass = document.getElementById('admin-pass').value;
            const name = document.getElementById('target-name').value;
            const mode = document.getElementById('gold-mode').value;
            const amount = document.getElementById('gold-amount').value;
            if(!pass || !name || !amount) { alert("è«‹å¡«å¯«æ‰€æœ‰æ¬„ä½"); return; }
            socket.emit('adminSetGold', { adminPass: pass, targetName: name, amount: amount, mode: mode });
        }

        function sendItem() {
            const pass = document.getElementById('admin-pass').value;
            const name = document.getElementById('target-name').value;
            const item = document.getElementById('item-id').value;
            const count = document.getElementById('item-count').value;
            if(!pass || !name || !item || !count) { alert("è«‹å¡«å¯«æ‰€æœ‰æ¬„ä½"); return; }
            log(`[è«‹æ±‚] ç™¼é€ ${count} å€‹ [${item}] çµ¦ ${name}...`);
            socket.emit('adminGiveItem', { adminPass: pass, targetName: name, itemId: item, count: count });
        }

        socket.on('adminResult', (res) => { log(res.msg); });
        socket.on('errorMessage', (msg) => { log("âŒ " + msg); });

        function log(msg) {
            const area = document.getElementById('log-area');
            area.innerText = `[${new Date().toLocaleTimeString()}] ${msg}\n` + area.innerText;
        }
    </script>
</body>
</html>
